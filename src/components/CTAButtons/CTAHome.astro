---
export interface CTAHomeButton {
  text: string;
  link: string;
  bgColor: string;
  textColor: string;
}

const { text, link, bgColor, textColor } = Astro.props as CTAHomeButton;
---

<button class="cta-btn">
  <a href={`${link}`}>
    <span>{text}</span>
    <svg
      class="cta-arrow"
      xmlns="http://www.w3.org/2000/svg"
      viewBox="0 0 24 24"
    >
      <path
        stroke-linecap="round"
        stroke-linejoin="round"
        d="M17.25 8.25L21 12m0 0l-3.75 3.75M21 12H3"></path>
    </svg>
  </a>
</button>

<style define:vars={{ bgColor, textColor }}>
  .cta-btn {
    width: 240px;
    height: 60px;
    position: relative;

    background: var(--bgColor);
    box-shadow: 0px 16px 7px rgba(0, 0, 0, 0.01),
      0px 9px 6px rgba(0, 0, 0, 0.05), 0px 4px 4px rgba(0, 0, 0, 0.09),
      0px 1px 2px rgba(0, 0, 0, 0.1), 0px 0px 0px rgba(0, 0, 0, 0.1);
    border-radius: 10px;
    border: none;
    outline: none;
    cursor: pointer;
    overflow: hidden;
    trasition: all 0.3s ease;
  }

  .cta-btn a span {
    position: absolute;
    top: 50%;
    left: 50%;
    font-family: var(--main-font);
    white-space: nowrap;
    color: var(--textColor);
    font-weight: 600;
    font-size: 1.5rem;
    transform: translate(-50%, -50%);
    transition: 0.3s ease;
  }

  .cta-btn a .cta-arrow {
    position: absolute;
    top: 1.25em;
    right: 0;
    animation: out 0.3s ease backwards;
  }

  .cta-btn:hover a .cta-arrow {
    animation: in 0.3s ease forwards;
  }

  .cta-btn:hover a span {
    transform: translate(calc(-50% - 1em), -50%);
  }

  .cta-arrow {
    width: 2em;
    height: 2em;
    stroke: var(--textColor);
    stroke-width: 3px;
    fill: none;
    transform: translateX(2em);
  }

  @keyframes in {
    0% {
      transform: translateX(2em);
    }
    100% {
      transform: translateX(-2em);
    }
  }

  @keyframes out {
    0% {
      transform: translateX(-2em);
    }
    100% {
      transform: translateX(2em);
    }
  }

  @media (max-width: 576px) {
    .cta-btn {
      width: 150px;
      height: 50px;
    }

    .cta-btn a span {
      font-size: 1rem;
    }

    .cta-btn:hover a span {
      transform: translate(-50%, -50%);
    }

    .cta-arrow {
      display: none;
    }
  }
</style>
